## 运动控制

### 1.控件内显示结果

1. 在其它类的方法中使用Form控件
   使用Control类，在类实例化时将控件以传参的形式传到类中。
2. 在窗体类的方法中使用Form控件
   1. 通过委托将窗体类的方法供其它类使用
      Action无返回值的泛型委托和Func有返回值的泛型委托。
   2. 在获取结果的类中利用event委托生成事件，产生结果后触发，并在窗体类中方法绑定到事件。

3. 显示日志的方法是静态的话，将控件赋值给创建的静态控件，在方法中使用静态控件。

### 2.while循环

1. `Thread.Sleep(1);`即可。
2. 通过继承编写的Base类来执行CycleStep。

### 3.工作流程

1. 使用switch-case分支结构。
2. 线程分离，工作流程、获取信号、连接设备、上传MES等各用一个线程异步运行。
3. 工作流程需要的数据是通过静态变量在其所属线程内执行结果来获取的。

### 4.继承接口

1. 多个类继承同一个接口，个个类完成接口功能即可，保证高内聚低耦合。
2. 能用局部变量就不用全局变量。故尤其是继承接口的方法内，即使是重复变量也尽量用局部变量，避免时序问题。

### 5.读写

1. 注意读写的互斥，特别是有多个线程的情况下，擅用lock。

### 6.事件

让变量的改变也能触发事件，则让其成为字段，并定义属性，在get，set中传入事件。
